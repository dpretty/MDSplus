SHELL=/bin/sh
top_srcdir=@top_srcdir@
exec_prefix=@exec_prefix@
JAVADIR = @MAKEJAVADIR@classes
JAVAC = @JAVAC@
JAR = @JAR@
INSTALL=@top_srcdir@/conf/install-sh -c

SOURCES = ActionData.java\
ActionEditor.java\
ApdData.java\
ArgEditor.java\
ArrayData.java\
AtomicData.java\
AxisEditor.java\
ByteArray.java\
ByteData.java\
CallData.java\
CompoundData.java\
ConditionData.java\
ConglomData.java\
Data.java\
DataEditor.java\
DataId.java\
DataListener.java\
Database.java\
DatabaseException.java\
DependencyData.java\
DimensionData.java\
DispatchData.java\
DispatchEditor.java\
DisplayData.java\
DisplayNci.java\
DoubleArray.java\
DoubleData.java\
Editor.java\
EventData.java\
ExprEditor.java\
FloatArray.java\
FloatData.java\
FunctionData.java\
IllegalDataException.java\
IntArray.java\
IntData.java\
LabeledExprEditor.java\
MethodData.java\
MethodEditor.java\
ModifyData.java\
NidData.java\
Node.java\
NodeBeanInfo.java\
NodeDataPropertyEditor.java\
NodeDisplayData.java\
NodeDisplayNci.java\
NodeEditor.java\
NodeId.java\
NodeInfo.java\
NodeInfoPropertyEditor.java\
NodeModifyData.java\
NodePropertyEditor.java\
OctaArray.java\
OctaData.java\
ParameterData.java\
PathData.java\
ProcedureData.java\
ProcedureEditor.java\
ProgramData.java\
ProgramEditor.java\
QuadArray.java\
QuadData.java\
RangeData.java\
RangeEditor.java\
RoutineData.java\
RoutineEditor.java\
ShortArray.java\
ShortData.java\
SignalData.java\
StringData.java\
SyntaxException.java\
TaskEditor.java\
Tree.java\
TreeDialog.java\
TreeNode.java\
UnsupportedDataException.java\
WindowData.java\
WindowEditor.java\
WithErrorData.java\
WithUnitsData.java\
jTraverser.java

CLASSES = *.class

GIFS = DeviceApply.gif \
       DeviceChoice.gif \
       DeviceReset.gif \
       compound.gif \
       signal.gif \
       text.gif \
       DeviceButtons.gif \
       DeviceDispatch.gif \
       DeviceSetup.gif \
       device.gif \
       structure.gif \
       window.gif \
       DeviceCancel.gif \
       DeviceField.gif \
       action.gif \
       dispatch.gif \
       subtree.gif \
       DeviceChannel.gif \
       DeviceOk.gif \
       axis.gif \
       numeric.gif \
       task.gif

all: @MAKEBINDIR@ @MAKEBINDIR@jTraverser @MAKEJAVADIR@ @MAKEJAVADIR@classes \
     @MAKEJAVADIR@classes/jTraverser.jar

clean: ; rm $(CLASSES) @MAKEBINDIR@jTraverser @MAKEJAVADIR@classes/jTraverser.jar

depend: ; @ :

install:
	if [ ! -d @exec_prefix@/java/classes ] ; then \
                mkdirhier @exec_prefix@/java/classes; \
                chmod -R 755 @exec_prefix@/java; \
        fi;
	$(INSTALL) -m 644  @MAKEJAVADIR@classes/jTraverser.jar @exec_prefix@/java/classes
	$(INSTALL) -m 755  @MAKEBINDIR@jTraverser @exec_prefix@/bin

@MAKEJAVADIR@ : ; mkdir @MAKEJAVADIR@

@MAKEJAVADIR@classes : ; mkdir @MAKEJAVADIR@classes

@MAKEJAVADIR@classes/jTraverser.jar: jTraverser.class
	$(JAR) c0f $@ $(CLASSES) $(GIFS)

jTraverser.class: 	$(SOURCES)
	env CLASSPATH=@MAKEJAVADIR@classes/MRJClasses.zip:. $(JAVAC) -g -d . $(SOURCES)

@MAKEBINDIR@ : ; mkdir @MAKEBINDIR@

@MAKEBINDIR@jTraverser : jTraverser.template
	sed "s|MAKEJAVADIR|`cd @MAKEJAVADIR@;pwd`|g" jTraverser.template | sed "s|libdir|`cd @libdir@;pwd`|g" > $@
	chmod a+x $@
@MAKEJAVADIR@classes/DeviceApply.gif : DeviceApply.gif
	cp DeviceApply.gif $@

@MAKEJAVADIR@classes/DeviceChoice.gif : DeviceChoice.gif
	cp DeviceChoice.gif $@

@MAKEJAVADIR@classes/DeviceReset.gif : DeviceReset.gif
	cp DeviceReset.gif $@

@MAKEJAVADIR@classes/compound.gif : compound.gif
	cp compound.gif $@

@MAKEJAVADIR@classes/signal.gif : signal.gif
	cp signal.gif $@

@MAKEJAVADIR@classes/text.gif : text.gif
	cp text.gif $@

@MAKEJAVADIR@classes/DeviceButtons.gif : DeviceButtons.gif
	cp DeviceButtons.gif $@

@MAKEJAVADIR@classes/DeviceDispatch.gif : DeviceDispatch.gif
	cp DeviceDispatch.gif $@

@MAKEJAVADIR@classes/DeviceSetup.gif : DeviceSetup.gif
	cp DeviceSetup.gif $@

@MAKEJAVADIR@classes/device.gif : device.gif
	cp device.gif $@

@MAKEJAVADIR@classes/structure.gif : structure.gif
	cp structure.gif $@

@MAKEJAVADIR@classes/window.gif : window.gif
	cp window.gif $@

@MAKEJAVADIR@classes/DeviceCancel.gif : DeviceCancel.gif
	cp DeviceCancel.gif $@

@MAKEJAVADIR@classes/DeviceField.gif : DeviceField.gif
	cp DeviceField.gif $@

@MAKEJAVADIR@classes/action.gif : action.gif
	cp action.gif $@

@MAKEJAVADIR@classes/dispatch.gif : dispatch.gif
	cp dispatch.gif $@

@MAKEJAVADIR@classes/subtree.gif : subtree.gif
	cp subtree.gif $@

@MAKEJAVADIR@classes/DeviceChannel.gif : DeviceChannel.gif
	cp DeviceChannel.gif $@

@MAKEJAVADIR@classes/DeviceOk.gif : DeviceOk.gif
	cp DeviceOk.gif $@

@MAKEJAVADIR@classes/axis.gif : axis.gif
	cp axis.gif $@

@MAKEJAVADIR@classes/numeric.gif : numeric.gif
	cp numeric.gif $@

@MAKEJAVADIR@classes/task.gif : task.gif
	cp task.gif $@
