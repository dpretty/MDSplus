SHELL=/bin/sh
top_srcdir=@top_srcdir@
JAVADIR = @MAKEJAVADIR@classes
JAVAC = @JAVAC@
JAR = @JAR@
INSTALL=@top_srcdir@/conf/install-sh -c

SOURCES = FtuProvider.java\
Base64.java\
ColorDialog.java\
DataProvider.java\
ErrorMessage.java\
JetDataProvider.java\
JiDataSource.java\
JiDim.java\
JiNcSource.java\
JiNcVar.java\
JiNcVarByte.java\
JiNcVarChar.java\
JiNcVarDouble.java\
JiNcVarFloat.java\
JiNcVarImp.java\
JiNcVarInt.java\
JiNcVarShort.java\
JiSlab.java\
JiSlabIterator.java\
JiVar.java\
JiVarImpl.java\
LocalProvider.java\
MultiWaveform.java\
NetworkProvider.java\
RandomAccessData.java\
RotateFilter.java\
RowColumnLayout.java\
ScopePositionDialog.java\
SetupDataDialog.java\
SetupDefaults.java\
Signal.java\
Slider.java\
WaveInterface.java\
Waveform.java\
jScope.java

CLASSES = *.class

all:	@MAKEBINDIR@ @MAKEBINDIR@jScope @MAKEJAVADIR@ @MAKEJAVADIR@classes @MAKEJAVADIR@classes/jScope.jar

clean: ; rm $(CLASSES) @MAKEBINDIR@jScope @MAKEJAVADIR@classes/jScope.jar

depend: ; @ :

install:
	if [ ! -d @exec_prefix@/java/classes ] ; then \
                mkdirhier @exec_prefix@/java/classes ; \
                chmod -R 755 @exec_prefix@/java; \
        fi;
	$(INSTALL) -m 644  @MAKEJAVADIR@classes/jScope.jar @exec_prefix@/java/classes
	$(INSTALL) -m 755  @MAKEBINDIR@jScope @exec_prefix@/bin

@MAKEJAVADIR@ : ; mkdir @MAKEJAVADIR@

@MAKEJAVADIR@classes : ; mkdir @MAKEJAVADIR@classes

@MAKEJAVADIR@classes/jScope.jar: jScope.class
	$(JAR) c0f $@ $(CLASSES)

jScope.class: 	$(SOURCES)
	$(JAVAC) -g $(SOURCES)

@MAKEBINDIR@ : ; mkdir @MAKEBINDIR@

@MAKEBINDIR@jScope : jScope.template
	sed "s|MAKEJAVADIR|`cd @MAKEJAVADIR@;pwd`|g" jScope.template | sed "s|libdir|`cd @libdir@;pwd`|g" > $@
	chmod a+x $@
