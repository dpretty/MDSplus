SHELL=/bin/sh
top_srcdir=@top_srcdir@
RM=$(top_srcdir)/devscripts/rm_if
JAVADIR = @MAKEJAVADIR@classes
JAVAC = @JAVAC@
JAR = @JAR@
INSTALL=@top_srcdir@/conf/install-sh -c

SOURCES = FtuProvider.java\
AsynchUpdater.java\
Base64.java\
ColorDialog.java\
DataCached.java\
DataProvider.java\
DemoProvider.java\
Discriptor.java\
ErrorMessage.java\
FontPanel.java\
FontSelection.java\
Frames.java\
Grid.java\
JetDataProvider.java\
JiDataSource.java\
JiDim.java\
JiNcSource.java\
JiNcVar.java\
JiNcVarByte.java\
JiNcVarChar.java\
JiNcVarDouble.java\
JiNcVarFloat.java\
JiNcVarImp.java\
JiNcVarInt.java\
JiNcVarShort.java\
JiSlab.java\
JiSlabIterator.java\
JiVar.java\
JiVarImpl.java\
LocalProvider.java\
MdsMessage.java\
MdsWavePopup.java\
MultiWaveform.java\
NetworkEvent.java\
NetworkEventListener.java\
NetworkEventManager.java\
NetworkProvider.java\
ProfileDialog.java\
RandomAccessData.java\
ReaderConfig.java\
RotateFilter.java\
RowColumnContainer.java\
RowColumnLayout.java\
ScopePositionDialog.java\
ServerDialog.java\
SetupDataDialog.java\
SetupDefaults.java\
Signal.java\
SignalCache.java\
Slider.java\
WaveContainerEvent.java\
WaveContainerListener.java\
WaveInterface.java\
WavePopup.java\
Waveform.java\
WaveformContainer.java\
WaveformEvent.java\
WaveformListener.java\
WaveformManager.java\
WaveformMetrics.java\
WindowDialog.java\
jScopeDefaultValues.java\
jScopeMultiWave.java\
jScopeWaveContainer.java\
jScopeWavePopup.java\
jScope.java

CLASSES = $(SOURCES:.java=.class)

all:	@MAKEBINDIR@ @MAKEBINDIR@jScope @MAKEJAVADIR@ @MAKEJAVADIR@classes @MAKEJAVADIR@classes/jScope.jar

clean: 
	@ $(RM) $(CLASSES) *\$*.class
	@ $(RM) @MAKEBINDIR@jScope
	@ $(RM) @MAKEJAVADIR@classes/jScope.jar

depend: ; @ :

install:
	if [ ! -d @exec_prefix@/java/classes ] ; then \
                mkdirhier @exec_prefix@/java/classes ; \
                chmod -R 755 @exec_prefix@/java; \
        fi;
	$(INSTALL) -m 644  @MAKEJAVADIR@classes/jScope.jar @exec_prefix@/java/classes
	$(INSTALL) -m 755  @MAKEBINDIR@jScope @exec_prefix@/bin

@MAKEJAVADIR@ : ; mkdir @MAKEJAVADIR@

@MAKEJAVADIR@classes : ; mkdir @MAKEJAVADIR@classes

@MAKEJAVADIR@classes/jScope.jar: jScope.class
	$(JAR) c0f $@ $(CLASSES)

jScope.class: 	$(SOURCES)
	$(JAVAC) -g $(SOURCES)

@MAKEBINDIR@ : ; mkdir @MAKEBINDIR@

@MAKEBINDIR@jScope : jScope.template
	sed "s|MAKEJAVADIR|`cd @MAKEJAVADIR@;pwd`|g" jScope.template | sed "s|libdir|`cd @libdir@;pwd`|g" > $@
	chmod a+x $@
