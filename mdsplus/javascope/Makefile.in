SHELL=/bin/sh
prefix=@prefix@
top_srcdir=@top_srcdir@
RM=$(top_srcdir)/devscripts/rm_if
JAVADIR = @MAKEJAVADIR@classes
JAVAC = @JAVAC@
JAR = @JAR@
INSTALL=@top_srcdir@/conf/install-sh -c

SOURCES = Base64.java                   JiNcVarByte.java              NetworkEventManager.java      Waveform.java\
ColorDialog.java              JiNcVarChar.java              NetworkProvider.java          WaveformContainer.java\
CompositeWaveDisplay.java     JiNcVarDouble.java            NetworkTransferListener.java  WaveformContainer_2.java\
DataAccess.java               JiNcVarFloat.java             ProfileDialog.java            WaveformEvent.java\
DataAccessURL.java            JiNcVarImp.java               RandomAccessData.java         WaveformListener.java\
DataCached.java               JiNcVarInt.java               RdaAccess.java                WaveformManager.java\
DataProvider.java             JiNcVarShort.java             ReaderConfig.java             WaveformMetrics.java\
DemoProvider.java             JiSlab.java                   RotateFilter.java             Waveform_2.java\
FontSelection.java            JiSlabIterator.java           RowColumnContainer.java       jScope.java\
FrameJAI.java                 JiVar.java                    RowColumnLayout.java          jScopeDefaultValues.java\
Frames.java                   JiVarImpl.java                SetupDataDialog.java          jScopeMac.java\
FtuProvider.java              LocalProvider.java            SetupDefaults.java            jScopeMultiWave.java\
Grid.java                     MdsAccess.java                Signal.java                   jScopeMultiWave_2.java\
JetDataProvider.java          MdsWaveInterface.java         SignalCache.java              jScopeWaveContainer.java\
JiDataSource.java             MultiWavePopup.java           WaveContainerEvent.java       jScopeWaveContainer_2.java\
JiDim.java                    MultiWaveform.java            WaveContainerListener.java    jScopeWavePopup.java\
JiNcSource.java               NetworkEvent.java             WaveInterface.java            jScope_1.java\
JiNcVar.java                  NetworkEventListener.java     WavePopup.java

CLASSES = $(SOURCES:.java=.class)

all:	@MAKEBINDIR@ @MAKEBINDIR@jScope @MAKEJAVADIR@ @MAKEJAVADIR@classes @MAKEJAVADIR@classes/jScope.jar

clean: 
	@ $(RM) *.class
	@ $(RM) @MAKEBINDIR@jScope
	@ $(RM) @MAKEJAVADIR@classes/jScope.jar

depend: ; @ :

install:
	if [ ! -d @exec_prefix@/java/classes ] ; then \
                mkdirhier @exec_prefix@/java/classes ; \
                chmod -R 755 @exec_prefix@/java; \
        fi;
	$(INSTALL) -m 644  @MAKEJAVADIR@classes/jScope.jar @exec_prefix@/java/classes
	$(INSTALL) -m 644  jScope.properties @exec_prefix@/java/classes
	$(INSTALL) -m 755  @MAKEBINDIR@jScope @exec_prefix@/bin

@MAKEJAVADIR@ : ; mkdir @MAKEJAVADIR@

@MAKEJAVADIR@classes : ; mkdir @MAKEJAVADIR@classes

@MAKEJAVADIR@classes/jScope.jar: jScope.class CompositeWaveDisplay.class
	$(JAR) c0f $@ *.class

jScope.class: 	$(SOURCES)
	$(JAVAC) -g jScope.java

CompositeWaveDisplay.class: 	$(SOURCES)
	$(JAVAC) -g CompositeWaveDisplay.java

@MAKEBINDIR@ : ; mkdir @MAKEBINDIR@

@MAKEBINDIR@jScope : jScope.template
	cp jScope.template $@
	chmod a+x $@
